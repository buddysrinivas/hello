<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Srinivasan Vembuli - Prototype</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements testing prototype -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
      }
    </style>
            <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type='text/javascript' src='//static.firebase.com/v0/firebase.js'></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
        <script src="https://cdn.firebase.com/v0/firebase.js"></script>
        <style type="text/css">
                    html { height: 100% }
            body { height: 100%;}
            #map_canvas { height: 100% }
        </style>
   
    <script src="assets/js/google-code-prettify/prettify.js"></script>
    <script>$(function () { prettyPrint() })</script>
    <script src="js/bootstrap-modal.js"></script>
    <script src="js/bootstrap-alerts.js"></script>

    <script src="js/bootstrap-twipsy.js"></script>
    <script src="js/bootstrap-popover.js"></script>
    <script src="js/bootstrap-dropdown.js"></script>
    <script src="js/bootstrap-scrollspy.js"></script>
    <script src="js/bootstrap-tabs.js"></script>
    <script src="js/bootstrap-buttons.js"></script>
    <script src="js/jquery/jquery.tablesorter.min.js"></script>

    <script>
		jQuery(document).ready( function($) {
			
			
			//$('.nav').tabs();
			//load the HTML content now
			$.get('home.html', function(data) {
				$('#home').html(data);
				//alert(data);
			},"html");
			
			$.get('team_briefing.html', function(data) {
				$('#briefing').html(data);
				//alert(data);
			},"html");
			
			$.get('bright_ideas.html', function(data) {
				$('#idea').html(data);
				$("table#ideas_table").tablesorter({ sortList: [[1,0]] });
				//alert(data);
			},"html");
			
			$.get('bright_ideas_assessment.html', function(data) {
				$('#idea_assessment').html(data);
				$("table#ideas_assessment_table").tablesorter({ sortList: [[1,0]] });
				//alert(data);
			},"html");
			
			//bright_ideas_assessment.html
			
			$.get('discussions.html', function(data) {
				$('#discussion').html(data);
				//alert(data);
			},"html");
			
			$.get('journal.html', function(data) {
				$('#journal').html(data);
				//alert(data);
			},"html");
	
			
			$.get('reportcenter.html', function(data) {
				$('#reportcenter').html(data);
				//alert(data);
			},"html");
			
			$.get('analytics.html', function(data) {
				$('#analytics').html(data);
				//alert(data);
			},"html");
			
			/*$.get('home.html', function(data) {
				$('#home').html(data);
			});*/
		})
	</script>
    <script type="text/javascript">
            $(function() {
                var currentMarker = null;
                function initializeMap() {
                    var div = $('#map_canvas')[0];
                    var mapOptions = {
                        center: new google.maps.LatLng(37.759665, -122.428764),
                        zoom: 15,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                    };
                    var map = new google.maps.Map(div, mapOptions);
                    return map;
                }
                
                function updateMap(map_data, map) {
                    var latlng = new google.maps.LatLng(map_data.lat, map_data.lon);
                    map.setCenter(latlng);
                    if (currentMarker) {
                        currentMarker.setPosition(latlng);
                    } else {
                        var marker_data = {
                            map: map,
                            position: latlng,
                            title: "Lizzy is here"
                        };
                        currentMarker = new google.maps.Marker(marker_data);
                    }
                    var date = new Date(map_data.ts);
                    $('#ts').text(date.toLocaleString());
                }
                var map = initializeMap();
                /* TODO: Change this to your own firebase location. 
                   Make sure it matches what you put in MainActivity.java  */
                //new Firebase('https://trailblazer.firebaseio-demo.com/location/lizzy')
              //  alert("I'm here");
                new Firebase('https://ebasket.firebaseio.com/location/srini')
                        .on('value', function(snap) {
                    var map_data = snap.val();
                    
                    updateMap(map_data, map);
                });
                
            });
        </script>

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  </head>

  <body onload=initializeMap()>

    <div class="topbar">
      <div class="fill">
        <div class="container">
          <a class="brand" href="#">Srinivasan Vembuli</a>
          <ul class="nav" data-tabs="tabs" >
            <li class="active"><a href="#home">Home</a></li>
            <li><a href="#briefing">Location Based Marketing</a></li>
            <li class="dropdown" data-dropdown="dropdown">
            	<a class="dropdown-toggle" href="#idea">Bright Ideas</a>
                <ul class="dropdown-menu">
                    <li>
                    <a href="#idea">My ideas</a>
                    </li>
                    <li>
                    <a href="#idea_assessment">Ideas assessment</a>
                    </li>
                    
                    <li class="divider"></li>
                </ul>
            </li>
            
            <li><a href="#journal">Journals</a></li>
            <li><a href="#discussion">Discussions</a></li>
             <li><a href="#reportcenter">Report Center</a></li>
          </ul>
          <!--<p class="pull-right">Logged in as <a href="#">username</a></p>-->
        </div>
      </div>
    </div>
    
    
    
    <div class="container">
    <div id="my-tab-content" class="tab-content">
    	<div id="home" class="active tab-pane"> </div>
        <div id="briefing" class="tab-pane">Team Briefing</div>
        <div id="idea" class="tab-pane">Idea</div>
        <div id="journal" class="tab-pane">Journals</div>
        <div id="discussion" class="tab-pane">Discussions</div>
        <div id="report_center" class="tab-pane">Report center</div>
        <div id="analytics" class="tab-pane">Analytics</div>
        <div id="idea_assessment" class="tab-pane">Assessment</div>
        <div id="reportcenter" class="tab-pane">Report Center</div>

	</div>
    	
    <footer>
        <p>&copy; Srinivasan Vembuli 2013</p>
      </footer>


    </div> <!-- /container -->
        <h1>Where's Srini?</h1>
    
        <h2>Last update: <span id="ts"></span></h2>
        <div id="map_canvas"></div>
  </body>
</html>
